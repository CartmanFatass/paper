2025-05-24 00:51:18,637 - [MainProcess] - Test-Training - INFO - 开始快速测试训练流程
2025-05-24 00:51:18,637 - [MainProcess] - Test-Training - INFO - 使用测试配置：总步数=10000, 评估间隔=1000
2025-05-24 00:51:18,655 - [MainProcess] - Test-Training - INFO - 检测到GPU可用，使用CUDA
2025-05-24 00:51:18,655 - [MainProcess] - Test-Training - INFO - 创建 2 个训练环境和 2 个评估环境
2025-05-24 00:51:18,655 - [MainProcess] - Test-Training - INFO - 创建向量化环境...
2025-05-24 00:51:22,861 - [MainProcess] - Test-Training - INFO - 从环境更新智能体数量: n_agents=3
2025-05-24 00:51:22,861 - [MainProcess] - Test-Training - INFO - 环境维度: state_dim=50, obs_dim=53
2025-05-24 00:51:22,861 - [MainProcess] - HMASD - INFO - 使用设备: cuda
2025-05-24 00:51:24,054 - [MainProcess] - Test-Training - INFO - 代理已创建
2025-05-24 00:51:24,054 - [MainProcess] - Test-Training - INFO - 重置环境...
2025-05-24 00:51:24,054 - [MainProcess] - Test-Training - INFO - 开始训练循环，目标步数：10000
2025-05-24 00:51:24,061 - [MainProcess] - HMASD - INFO - 初始化state_embedding: 实际状态维度 = 50
2025-05-24 00:51:24,061 - [MainProcess] - HMASD - INFO - 初始化obs_embedding: 实际观测维度 = 53
2025-05-24 00:51:24,396 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.9994, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,396 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 1, 此环境累积奖励: 0.9994, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,396 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.1228, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,396 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 2, 此环境累积奖励: 1.1228, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,511 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7915, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,511 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 3, 此环境累积奖励: 0.7915, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,511 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9178, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,511 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 4, 此环境累积奖励: 0.9178, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,630 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7536, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,630 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 5, 此环境累积奖励: 0.7536, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,637 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9106, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,637 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 6, 此环境累积奖励: 0.9106, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,754 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7564, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 7, 此环境累积奖励: 0.7564, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,754 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9001, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 8, 此环境累积奖励: 0.9001, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,878 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7590, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,878 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 9, 此环境累积奖励: 0.7590, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:24,887 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8838, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:24,887 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 10, 环境贡献: {0: 5, 1: 5}, 原因统计: {'技能周期结束': 10, '环境终止': 0}
2025-05-24 00:51:24,887 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 10, 此环境累积奖励: 0.8838, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,007 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6758, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,007 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 11, 此环境累积奖励: 0.6758, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,011 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9088, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 12, 此环境累积奖励: 0.9088, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,121 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6947, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,121 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 13, 此环境累积奖励: 0.6947, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,121 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9395, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,127 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 14, 此环境累积奖励: 0.9395, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,238 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7405, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,238 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 15, 此环境累积奖励: 0.7405, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,238 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9815, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,238 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 16, 此环境累积奖励: 0.9815, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,385 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7972, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,385 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 17, 此环境累积奖励: 0.7972, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,390 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0392, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,390 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 18, 此环境累积奖励: 1.0392, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,504 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6797, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,504 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 19, 此环境累积奖励: 0.6797, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,511 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9512, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,511 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 20, 环境贡献: {0: 10, 1: 10}, 原因统计: {'技能周期结束': 20, '环境终止': 0}
2025-05-24 00:51:25,511 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 20, 此环境累积奖励: 0.9512, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,628 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6513, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,628 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 21, 此环境累积奖励: 0.6513, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,628 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9164, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,637 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 22, 此环境累积奖励: 0.9164, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,754 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7377, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 23, 此环境累积奖励: 0.7377, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,754 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8972, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:25,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 24, 此环境累积奖励: 0.8972, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:25,894 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 24/32 (当前/所需)
2025-05-24 00:51:25,894 - [MainProcess] - HMASD - WARNING - 高层缓冲区样本不足，需要32个样本，但只有24个。跳过更新。
2025-05-24 00:51:25,894 - [MainProcess] - HMASD - INFO - 初始化critic_mlp: 实际状态维度 = 50, 团队技能维度 = 2
2025-05-24 00:51:26,011 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7690, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:26,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 25, 此环境累积奖励: 0.7690, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,011 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9179, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:26,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 26, 此环境累积奖励: 0.9179, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,134 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7032, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,134 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 27, 此环境累积奖励: 0.7032, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,137 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8876, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,137 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 28, 此环境累积奖励: 0.8876, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,254 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6991, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,254 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 29, 此环境累积奖励: 0.6991, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,254 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8218, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,254 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 30, 环境贡献: {0: 15, 1: 15}, 原因统计: {'技能周期结束': 30, '环境终止': 0}
2025-05-24 00:51:26,254 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 30, 此环境累积奖励: 0.8218, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,380 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7212, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,380 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 31, 此环境累积奖励: 0.7212, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,387 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9190, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,387 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 32, 此环境累积奖励: 0.9190, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,506 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7545, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,506 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 33, 此环境累积奖励: 0.7545, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,511 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7754, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,511 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 34, 此环境累积奖励: 0.7754, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,628 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7318, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,628 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 35, 此环境累积奖励: 0.7318, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,628 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7362, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,628 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 36, 此环境累积奖励: 0.7362, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,754 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7894, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 37, 此环境累积奖励: 0.7894, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,754 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7171, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,754 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 38, 此环境累积奖励: 0.7171, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,889 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6804, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,889 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 39, 此环境累积奖励: 0.6804, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:26,895 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6908, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:26,895 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 40, 环境贡献: {0: 20, 1: 20}, 原因统计: {'技能周期结束': 40, '环境终止': 0}
2025-05-24 00:51:26,895 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 40, 此环境累积奖励: 0.6908, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,006 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7598, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,006 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 41, 此环境累积奖励: 0.7598, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,011 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7037, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 42, 此环境累积奖励: 0.7037, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,128 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7593, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,128 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 43, 此环境累积奖励: 0.7593, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,137 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7678, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,137 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 44, 此环境累积奖励: 0.7678, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,244 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7250, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,244 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 45, 此环境累积奖励: 0.7250, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,255 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6963, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,255 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 46, 此环境累积奖励: 0.6963, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,361 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7241, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,371 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 47, 此环境累积奖励: 0.7241, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,375 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7188, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,375 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 48, 此环境累积奖励: 0.7188, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,496 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6980, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,497 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 49, 此环境累积奖励: 0.6980, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,500 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7718, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,500 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 50, 环境贡献: {0: 25, 1: 25}, 原因统计: {'技能周期结束': 50, '环境终止': 0}
2025-05-24 00:51:27,500 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 50, 此环境累积奖励: 0.7718, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,545 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 50/32 (当前/所需)
2025-05-24 00:51:27,545 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从50个样本中采样32个
2025-05-24 00:51:27,545 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.8216, 标准差=0.1171, 最小值=0.6513, 最大值=1.1228
2025-05-24 00:51:27,555 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:27,555 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.8216, 标准差=0.1171, 最小值=0.6513, 最大值=1.1228
2025-05-24 00:51:27,555 - [MainProcess] - HMASD - INFO -   state_values: 均值=-0.2831, 标准差=0.2427, 最小值=-0.7223, 最大值=0.2710
2025-05-24 00:51:27,565 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:27,565 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.9731, 标准差=3.1657, 最小值=1.2820, 最大值=12.1598
2025-05-24 00:51:27,565 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.6900, 标准差=3.2552, 最小值=0.6963, 最大值=11.9071
2025-05-24 00:51:27,594 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6853
2025-05-24 00:51:27,599 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=144.708413, 策略损失=0.169186, 价值损失=144.540527, 熵损失=-0.001301
2025-05-24 00:51:27,624 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F291F00>
2025-05-24 00:51:27,632 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:27,656 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=212.086441, 均值=8.927176, 标准差=18.247522, 最大=118.963135, 最小=0.008469
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 33.792473
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 38.644512
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 19.146536
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 49.077248
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 29.899874
2025-05-24 00:51:27,666 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:27,675 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021046, 标准差=0.043019, 最大=0.280459, 最小=0.000020
2025-05-24 00:51:27,761 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.8371, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:27,761 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 51, 此环境累积奖励: 0.8371, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,761 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7608, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:27,771 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 52, 此环境累积奖励: 0.7608, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,894 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7626, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,894 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 53, 此环境累积奖励: 0.7626, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:27,894 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5840, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:27,894 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 54, 此环境累积奖励: 0.5840, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,034 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7715, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,035 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 55, 此环境累积奖励: 0.7715, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,038 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5793, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,038 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 56, 此环境累积奖励: 0.5793, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,161 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6478, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,161 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 57, 此环境累积奖励: 0.6478, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,168 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5705, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,168 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 58, 此环境累积奖励: 0.5705, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,289 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6454, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,289 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 59, 此环境累积奖励: 0.6454, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,294 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6748, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,294 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 60, 环境贡献: {0: 30, 1: 30}, 原因统计: {'技能周期结束': 60, '环境终止': 0}
2025-05-24 00:51:28,294 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 60, 此环境累积奖励: 0.6748, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,423 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5349, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,427 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 61, 此环境累积奖励: 0.5349, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,430 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4836, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,430 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 62, 此环境累积奖励: 0.4836, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,567 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7112, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,567 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 63, 此环境累积奖励: 0.7112, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,570 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5986, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,571 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 64, 此环境累积奖励: 0.5986, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,694 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6733, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,694 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 65, 此环境累积奖励: 0.6733, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,694 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6279, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,694 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 66, 此环境累积奖励: 0.6279, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,821 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5816, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,821 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 67, 此环境累积奖励: 0.5816, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,828 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4230, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,828 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 68, 此环境累积奖励: 0.4230, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,954 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5103, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,954 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 69, 此环境累积奖励: 0.5103, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:28,954 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5034, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:28,954 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 70, 环境贡献: {0: 35, 1: 35}, 原因统计: {'技能周期结束': 70, '环境终止': 0}
2025-05-24 00:51:28,961 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 70, 此环境累积奖励: 0.5034, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,094 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5504, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,094 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 71, 此环境累积奖励: 0.5504, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,094 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5642, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,094 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 72, 此环境累积奖励: 0.5642, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,231 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5901, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,231 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 73, 此环境累积奖励: 0.5901, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,237 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4510, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,237 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 74, 此环境累积奖励: 0.4510, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,378 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5012, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,378 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 75, 此环境累积奖励: 0.5012, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,378 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5592, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,378 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 76, 此环境累积奖励: 0.5592, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,427 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 76/32 (当前/所需)
2025-05-24 00:51:29,427 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从76个样本中采样32个
2025-05-24 00:51:29,428 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7417, 标准差=0.1545, 最小值=0.4836, 最大值=1.1228
2025-05-24 00:51:29,428 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:29,428 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7417, 标准差=0.1545, 最小值=0.4836, 最大值=1.1228
2025-05-24 00:51:29,428 - [MainProcess] - HMASD - INFO -   state_values: 均值=-0.1549, 标准差=0.2277, 最小值=-0.6641, 最大值=0.2176
2025-05-24 00:51:29,436 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:29,436 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.2988, 标准差=2.8910, 最小值=1.0091, 最大值=10.6910
2025-05-24 00:51:29,436 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.1439, 标准差=2.8465, 最小值=0.7377, 最大值=10.5208
2025-05-24 00:51:29,460 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6814
2025-05-24 00:51:29,468 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=121.247073, 策略损失=0.209866, 价值损失=121.038528, 熵损失=-0.001321
2025-05-24 00:51:29,494 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F290970>
2025-05-24 00:51:29,499 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:29,530 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=197.214035, 均值=8.317256, 标准差=16.960047, 最大=108.954842, 最小=0.016867
2025-05-24 00:51:29,539 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:29,539 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 32.275673
2025-05-24 00:51:29,539 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 35.352718
2025-05-24 00:51:29,539 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 18.134823
2025-05-24 00:51:29,540 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 46.081257
2025-05-24 00:51:29,540 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 28.042940
2025-05-24 00:51:29,540 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:29,553 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021087, 标准差=0.042999, 最大=0.276235, 最小=0.000043
2025-05-24 00:51:29,678 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6165, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:29,678 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 77, 此环境累积奖励: 0.6165, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,678 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6149, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:29,678 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 78, 此环境累积奖励: 0.6149, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,828 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4597, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,828 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 79, 此环境累积奖励: 0.4597, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,828 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6024, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,828 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 80, 环境贡献: {0: 40, 1: 40}, 原因统计: {'技能周期结束': 80, '环境终止': 0}
2025-05-24 00:51:29,828 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 80, 此环境累积奖励: 0.6024, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,971 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4766, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,971 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 81, 此环境累积奖励: 0.4766, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:29,978 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6037, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:29,978 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 82, 此环境累积奖励: 0.6037, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,111 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5057, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,111 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 83, 此环境累积奖励: 0.5057, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,121 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6148, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,121 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 84, 此环境累积奖励: 0.6148, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,254 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4866, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,254 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 85, 此环境累积奖励: 0.4866, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,261 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6084, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,261 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 86, 此环境累积奖励: 0.6084, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,395 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5230, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,395 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 87, 此环境累积奖励: 0.5230, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,395 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6516, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,395 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 88, 此环境累积奖励: 0.6516, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,530 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5126, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,530 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 89, 此环境累积奖励: 0.5126, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,537 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6869, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,537 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 90, 环境贡献: {0: 45, 1: 45}, 原因统计: {'技能周期结束': 90, '环境终止': 0}
2025-05-24 00:51:30,537 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 90, 此环境累积奖励: 0.6869, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,671 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5171, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,671 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 91, 此环境累积奖励: 0.5171, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,681 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5969, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,681 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 92, 此环境累积奖励: 0.5969, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,811 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3760, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,811 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 93, 此环境累积奖励: 0.3760, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,821 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6793, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,821 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 94, 此环境累积奖励: 0.6793, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,944 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5337, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,944 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 95, 此环境累积奖励: 0.5337, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:30,954 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6625, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:30,954 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 96, 此环境累积奖励: 0.6625, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,092 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4715, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,092 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 97, 此环境累积奖励: 0.4715, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,097 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5648, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,097 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 98, 此环境累积奖励: 0.5648, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,179 - [MainProcess] - Test-Training - INFO - 进度: 500/10000 步 (5.0%), 用时: 7.1s
2025-05-24 00:51:31,237 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3772, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,237 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 99, 此环境累积奖励: 0.3772, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,242 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4649, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,242 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 100, 环境贡献: {0: 50, 1: 50}, 原因统计: {'技能周期结束': 100, '环境终止': 0}
2025-05-24 00:51:31,242 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 100, 此环境累积奖励: 0.4649, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,378 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4861, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,378 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 101, 此环境累积奖励: 0.4861, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,378 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6061, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,378 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 102, 此环境累积奖励: 0.6061, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,406 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 102/32 (当前/所需)
2025-05-24 00:51:31,406 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从102个样本中采样32个
2025-05-24 00:51:31,407 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7356, 标准差=0.1487, 最小值=0.4715, 最大值=1.1228
2025-05-24 00:51:31,410 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:31,410 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7356, 标准差=0.1487, 最小值=0.4715, 最大值=1.1228
2025-05-24 00:51:31,410 - [MainProcess] - HMASD - INFO -   state_values: 均值=-0.0428, 标准差=0.2401, 最小值=-0.6075, 最大值=0.3354
2025-05-24 00:51:31,414 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:31,416 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.1140, 标准差=2.8629, 最小值=0.7135, 最大值=11.0543
2025-05-24 00:51:31,416 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.0712, 标准差=2.8576, 最小值=0.6061, 最大值=10.6602
2025-05-24 00:51:31,436 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6774
2025-05-24 00:51:31,439 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=117.166675, 策略损失=0.031590, 价值损失=117.136406, 熵损失=-0.001321
2025-05-24 00:51:31,466 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F2911B0>
2025-05-24 00:51:31,478 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:31,516 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=190.188263, 均值=8.033202, 标准差=16.349836, 最大=106.126038, 最小=0.016022
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 30.799854
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 34.511280
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 17.155760
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 43.133476
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 27.211674
2025-05-24 00:51:31,517 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:31,532 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021119, 标准差=0.042983, 最大=0.279003, 最小=0.000042
2025-05-24 00:51:31,687 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6472, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:31,687 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 103, 此环境累积奖励: 0.6472, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,687 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6610, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:31,687 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 104, 此环境累积奖励: 0.6610, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,844 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4443, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,844 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 105, 此环境累积奖励: 0.4443, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,854 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6956, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,854 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 106, 此环境累积奖励: 0.6956, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:31,997 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5572, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:31,997 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 107, 此环境累积奖励: 0.5572, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,002 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6054, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,002 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 108, 此环境累积奖励: 0.6054, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,137 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4823, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,137 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 109, 此环境累积奖励: 0.4823, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,144 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6898, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,145 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 110, 环境贡献: {0: 55, 1: 55}, 原因统计: {'技能周期结束': 110, '环境终止': 0}
2025-05-24 00:51:32,146 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 110, 此环境累积奖励: 0.6898, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,294 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4705, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,294 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 111, 此环境累积奖励: 0.4705, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,305 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6915, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,305 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 112, 此环境累积奖励: 0.6915, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,444 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3590, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,444 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 113, 此环境累积奖励: 0.3590, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,449 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7078, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,449 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 114, 此环境累积奖励: 0.7078, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,587 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3427, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,587 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 115, 此环境累积奖励: 0.3427, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,587 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6848, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,587 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 116, 此环境累积奖励: 0.6848, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,728 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5629, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,728 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 117, 此环境累积奖励: 0.5629, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,728 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7957, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,728 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 118, 此环境累积奖励: 0.7957, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,871 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4505, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,871 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 119, 此环境累积奖励: 0.4505, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:32,878 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7408, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:32,878 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 120, 环境贡献: {0: 60, 1: 60}, 原因统计: {'技能周期结束': 120, '环境终止': 0}
2025-05-24 00:51:32,878 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 120, 此环境累积奖励: 0.7408, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,011 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5040, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 121, 此环境累积奖励: 0.5040, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,021 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7932, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,021 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 122, 此环境累积奖励: 0.7932, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,161 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4440, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,161 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 123, 此环境累积奖励: 0.4440, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,161 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8689, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,161 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 124, 此环境累积奖励: 0.8689, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,304 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3727, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,304 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 125, 此环境累积奖励: 0.3727, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,311 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7702, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,311 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 126, 此环境累积奖励: 0.7702, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,454 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4403, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,454 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 127, 此环境累积奖励: 0.4403, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,454 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7535, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,454 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 128, 此环境累积奖励: 0.7535, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,461 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 128/32 (当前/所需)
2025-05-24 00:51:33,461 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从128个样本中采样32个
2025-05-24 00:51:33,461 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.6814, 标准差=0.1641, 最小值=0.4443, 最大值=1.1228
2025-05-24 00:51:33,467 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:33,467 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.6814, 标准差=0.1641, 最小值=0.4443, 最大值=1.1228
2025-05-24 00:51:33,467 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.0588, 标准差=0.2111, 最小值=-0.3309, 最大值=0.4145
2025-05-24 00:51:33,468 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:33,468 - [MainProcess] - HMASD - INFO -   Advantages: 均值=6.5193, 标准差=2.8332, 最小值=0.6445, 最大值=9.7520
2025-05-24 00:51:33,468 - [MainProcess] - HMASD - INFO -   Returns: 均值=6.5781, 标准差=2.8402, 最小值=0.5969, 最大值=9.9547
2025-05-24 00:51:33,499 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6780
2025-05-24 00:51:33,499 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=100.497336, 策略损失=0.025314, 价值损失=100.473351, 熵损失=-0.001328
2025-05-24 00:51:33,531 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F2902B0>
2025-05-24 00:51:33,544 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:33,568 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=175.616913, 均值=7.417732, 标准差=15.097180, 最大=97.064796, 最小=0.012994
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 29.121983
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 33.254913
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 15.242584
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 38.838486
2025-05-24 00:51:33,586 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 25.540823
2025-05-24 00:51:33,588 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:33,604 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021119, 标准差=0.042983, 最大=0.276354, 最小=0.000037
2025-05-24 00:51:33,781 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3613, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:33,781 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 129, 此环境累积奖励: 0.3613, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,785 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6998, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:33,785 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 130, 环境贡献: {0: 65, 1: 65}, 原因统计: {'技能周期结束': 130, '环境终止': 0}
2025-05-24 00:51:33,785 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 130, 此环境累积奖励: 0.6998, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,937 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3554, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,937 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 131, 此环境累积奖励: 0.3554, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:33,944 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7585, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:33,944 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 132, 此环境累积奖励: 0.7585, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,081 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4743, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,081 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 133, 此环境累积奖励: 0.4743, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,088 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7362, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,088 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 134, 此环境累积奖励: 0.7362, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,227 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4949, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,227 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 135, 此环境累积奖励: 0.4949, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,227 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7021, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,227 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 136, 此环境累积奖励: 0.7021, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,372 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4671, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,372 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 137, 此环境累积奖励: 0.4671, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,380 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8299, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,380 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 138, 此环境累积奖励: 0.8299, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,515 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4307, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,515 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 139, 此环境累积奖励: 0.4307, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,521 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7894, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,521 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 140, 环境贡献: {0: 70, 1: 70}, 原因统计: {'技能周期结束': 140, '环境终止': 0}
2025-05-24 00:51:34,521 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 140, 此环境累积奖励: 0.7894, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,661 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5943, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,661 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 141, 此环境累积奖励: 0.5943, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,671 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8292, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,671 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 142, 此环境累积奖励: 0.8292, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,828 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4511, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,828 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 143, 此环境累积奖励: 0.4511, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,828 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8489, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,828 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 144, 此环境累积奖励: 0.8489, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,971 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6355, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,971 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 145, 此环境累积奖励: 0.6355, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:34,978 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7977, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:34,982 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 146, 此环境累积奖励: 0.7977, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,121 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5085, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,121 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 147, 此环境累积奖励: 0.5085, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,121 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7803, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,128 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 148, 此环境累积奖励: 0.7803, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,261 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5492, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,261 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 149, 此环境累积奖励: 0.5492, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,271 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7733, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,271 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 150, 环境贡献: {0: 75, 1: 75}, 原因统计: {'技能周期结束': 150, '环境终止': 0}
2025-05-24 00:51:35,271 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 150, 此环境累积奖励: 0.7733, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,421 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5954, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,421 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 151, 此环境累积奖励: 0.5954, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,421 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7394, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,421 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 152, 此环境累积奖励: 0.7394, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,504 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 152/32 (当前/所需)
2025-05-24 00:51:35,504 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从152个样本中采样32个
2025-05-24 00:51:35,504 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.6636, 标准差=0.1671, 最小值=0.3772, 最大值=1.1228
2025-05-24 00:51:35,511 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:35,511 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.6636, 标准差=0.1671, 最小值=0.3772, 最大值=1.1228
2025-05-24 00:51:35,511 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.2387, 标准差=0.1767, 最小值=-0.1242, 最大值=0.5524
2025-05-24 00:51:35,517 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:35,518 - [MainProcess] - HMASD - INFO -   Advantages: 均值=6.1921, 标准差=2.7416, 最小值=0.7181, 最大值=9.8271
2025-05-24 00:51:35,518 - [MainProcess] - HMASD - INFO -   Returns: 均值=6.4307, 标准差=2.7256, 最小值=0.7977, 最大值=9.9563
2025-05-24 00:51:35,538 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6709
2025-05-24 00:51:35,546 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=93.839479, 策略损失=0.092220, 价值损失=93.748596, 熵损失=-0.001337
2025-05-24 00:51:35,569 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F290490>
2025-05-24 00:51:35,588 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:35,617 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=167.557526, 均值=7.083452, 标准差=14.401336, 最大=91.881668, 最小=0.007155
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 27.353880
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 30.793798
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 14.596097
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 37.460148
2025-05-24 00:51:35,628 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 24.552021
2025-05-24 00:51:35,630 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:35,634 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021137, 标准差=0.042974, 最大=0.274179, 最小=0.000021
2025-05-24 00:51:35,711 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5676, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:35,711 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 153, 此环境累积奖励: 0.5676, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,721 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6864, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:35,721 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 154, 此环境累积奖励: 0.6864, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,871 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3987, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,871 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 155, 此环境累积奖励: 0.3987, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:35,871 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8326, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:35,871 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 156, 此环境累积奖励: 0.8326, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,011 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4678, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,011 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 157, 此环境累积奖励: 0.4678, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,021 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7801, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,021 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 158, 此环境累积奖励: 0.7801, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,165 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4306, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,165 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 159, 此环境累积奖励: 0.4306, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,165 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6647, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,165 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 160, 环境贡献: {0: 80, 1: 80}, 原因统计: {'技能周期结束': 160, '环境终止': 0}
2025-05-24 00:51:36,165 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 160, 此环境累积奖励: 0.6647, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,304 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4820, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,304 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 161, 此环境累积奖励: 0.4820, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,311 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8102, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,311 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 162, 此环境累积奖励: 0.8102, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,454 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3766, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,454 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 163, 此环境累积奖励: 0.3766, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,454 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7373, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,454 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 164, 此环境累积奖励: 0.7373, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,594 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4015, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,594 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 165, 此环境累积奖励: 0.4015, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,604 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7690, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,604 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 166, 此环境累积奖励: 0.7690, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,738 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4992, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,738 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 167, 此环境累积奖励: 0.4992, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,744 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7457, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,744 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 168, 此环境累积奖励: 0.7457, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,884 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5214, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,884 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 169, 此环境累积奖励: 0.5214, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:36,888 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7277, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:36,888 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 170, 环境贡献: {0: 85, 1: 85}, 原因统计: {'技能周期结束': 170, '环境终止': 0}
2025-05-24 00:51:36,888 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 170, 此环境累积奖励: 0.7277, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,039 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6289, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,039 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 171, 此环境累积奖励: 0.6289, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,043 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8811, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,043 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 172, 此环境累积奖励: 0.8811, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,178 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4305, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,178 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 173, 此环境累积奖励: 0.4305, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,178 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7332, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,178 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 174, 此环境累积奖励: 0.7332, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,321 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5012, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,321 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 175, 此环境累积奖励: 0.5012, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,328 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7250, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,328 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 176, 此环境累积奖励: 0.7250, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,471 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3844, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,471 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 177, 此环境累积奖励: 0.3844, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,478 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7161, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,478 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 178, 此环境累积奖励: 0.7161, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,546 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 178/32 (当前/所需)
2025-05-24 00:51:37,546 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从178个样本中采样32个
2025-05-24 00:51:37,547 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.6183, 标准差=0.1634, 最小值=0.3590, 最大值=0.9815
2025-05-24 00:51:37,550 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 00:51:37,550 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.6183, 标准差=0.1634, 最小值=0.3590, 最大值=0.9815
2025-05-24 00:51:37,550 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.3799, 标准差=0.2050, 最小值=-0.2210, 最大值=0.6896
2025-05-24 00:51:37,552 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 00:51:37,552 - [MainProcess] - HMASD - INFO -   Advantages: 均值=5.5851, 标准差=2.5392, 最小值=0.2926, 最大值=9.2954
2025-05-24 00:51:37,552 - [MainProcess] - HMASD - INFO -   Returns: 均值=5.9651, 标准差=2.5119, 最小值=0.7536, 最大值=9.5760
2025-05-24 00:51:37,578 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6810
2025-05-24 00:51:37,582 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=78.629467, 策略损失=0.054671, 价值损失=78.576134, 熵损失=-0.001338
2025-05-24 00:51:37,609 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x000001A88F291960>
2025-05-24 00:51:37,622 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 00:51:37,649 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=153.155182, 均值=6.547253, 标准差=13.127484, 最大=82.595055, 最小=0.013127
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 25.508287
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 27.741640
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 13.690302
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 34.869438
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 22.022160
2025-05-24 00:51:37,662 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 00:51:37,681 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021375, 标准差=0.042857, 最大=0.269645, 最小=0.000043
2025-05-24 00:51:37,771 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4713, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:37,771 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 179, 此环境累积奖励: 0.4713, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,778 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6576, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 00:51:37,778 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 180, 环境贡献: {0: 90, 1: 90}, 原因统计: {'技能周期结束': 180, '环境终止': 0}
2025-05-24 00:51:37,778 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 180, 此环境累积奖励: 0.6576, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,911 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6433, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,911 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 181, 此环境累积奖励: 0.6433, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:37,921 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7263, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:37,921 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 182, 此环境累积奖励: 0.7263, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,061 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5922, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,061 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 183, 此环境累积奖励: 0.5922, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,071 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8669, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,071 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 184, 此环境累积奖励: 0.8669, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,196 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5136, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,196 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 185, 此环境累积奖励: 0.5136, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,205 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8594, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,205 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 186, 此环境累积奖励: 0.8594, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,344 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4725, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,344 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 187, 此环境累积奖励: 0.4725, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,354 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7177, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,354 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 188, 此环境累积奖励: 0.7177, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,495 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4437, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,495 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 189, 此环境累积奖励: 0.4437, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,495 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7776, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,495 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 190, 环境贡献: {0: 95, 1: 95}, 原因统计: {'技能周期结束': 190, '环境终止': 0}
2025-05-24 00:51:38,495 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 190, 此环境累积奖励: 0.7776, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,662 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3922, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,662 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 191, 此环境累积奖励: 0.3922, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,662 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8586, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,662 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 192, 此环境累积奖励: 0.8586, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,804 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5680, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,804 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 193, 此环境累积奖励: 0.5680, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,812 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8496, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,812 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 194, 此环境累积奖励: 0.8496, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,955 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4970, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,955 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 195, 此环境累积奖励: 0.4970, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:38,961 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6855, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:38,961 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 196, 此环境累积奖励: 0.6855, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:39,104 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6669, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:39,104 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 197, 此环境累积奖励: 0.6669, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:39,111 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7345, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:39,111 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 198, 此环境累积奖励: 0.7345, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:39,205 - [MainProcess] - Test-Training - INFO - 进度: 1000/10000 步 (10.0%), 用时: 15.2s
2025-05-24 00:51:39,261 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4740, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:39,261 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 199, 此环境累积奖励: 0.4740, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:39,261 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6908, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 00:51:39,261 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 200, 环境贡献: {0: 100, 1: 100}, 原因统计: {'技能周期结束': 200, '环境终止': 0}
2025-05-24 00:51:39,261 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 200, 此环境累积奖励: 0.6908, 成功添加：True, 原因：技能周期结束
2025-05-24 00:51:39,261 - [MainProcess] - Test-Training - INFO - 即将进行评估 #1, 当前步数: 1000, 距离上次评估: 1000 步
