2025-05-24 01:09:00,292 - [MainProcess] - Test-Training - INFO - 开始快速测试训练流程
2025-05-24 01:09:00,292 - [MainProcess] - Test-Training - INFO - 使用测试配置：总步数=10000, 评估间隔=1000
2025-05-24 01:09:00,313 - [MainProcess] - Test-Training - INFO - 检测到GPU可用，使用CUDA
2025-05-24 01:09:00,314 - [MainProcess] - Test-Training - INFO - 创建 2 个训练环境和 2 个评估环境
2025-05-24 01:09:00,314 - [MainProcess] - Test-Training - INFO - 创建向量化环境...
2025-05-24 01:09:04,438 - [MainProcess] - Test-Training - INFO - 从环境更新智能体数量: n_agents=3
2025-05-24 01:09:04,438 - [MainProcess] - Test-Training - INFO - 环境维度: state_dim=50, obs_dim=53
2025-05-24 01:09:04,438 - [MainProcess] - HMASD - INFO - 使用设备: cuda
2025-05-24 01:09:05,470 - [MainProcess] - Test-Training - INFO - 代理已创建
2025-05-24 01:09:05,470 - [MainProcess] - Test-Training - INFO - 重置环境...
2025-05-24 01:09:05,473 - [MainProcess] - Test-Training - INFO - 开始训练循环，目标步数：10000
2025-05-24 01:09:05,474 - [MainProcess] - HMASD - INFO - 初始化state_embedding: 实际状态维度 = 50
2025-05-24 01:09:05,474 - [MainProcess] - HMASD - INFO - 初始化obs_embedding: 实际观测维度 = 53
2025-05-24 01:09:05,798 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=1.1218, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:05,798 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 1, 此环境累积奖励: 1.1218, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:05,802 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.2915, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:05,802 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 2, 此环境累积奖励: 1.2915, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:05,913 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.8660, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:05,913 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 3, 此环境累积奖励: 0.8660, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:05,919 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0616, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:05,919 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 4, 此环境累积奖励: 1.0616, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,031 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7289, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,031 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 5, 此环境累积奖励: 0.7289, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,043 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0784, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,043 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 6, 此环境累积奖励: 1.0784, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,203 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.8070, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,203 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 7, 此环境累积奖励: 0.8070, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,209 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9751, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,209 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 8, 此环境累积奖励: 0.9751, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,318 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.9298, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,325 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 9, 此环境累积奖励: 0.9298, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,325 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0458, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,325 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 10, 环境贡献: {0: 5, 1: 5}, 原因统计: {'技能周期结束': 10, '环境终止': 0}
2025-05-24 01:09:06,325 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 10, 此环境累积奖励: 1.0458, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,451 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7396, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,451 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 11, 此环境累积奖励: 0.7396, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,455 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7644, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,455 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 12, 此环境累积奖励: 0.7644, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,570 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.9090, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,570 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 13, 此环境累积奖励: 0.9090, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,572 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8934, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,572 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 14, 此环境累积奖励: 0.8934, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,696 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.8531, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,696 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 15, 此环境累积奖励: 0.8531, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,702 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9687, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,702 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 16, 此环境累积奖励: 0.9687, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,823 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6449, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,823 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 17, 此环境累积奖励: 0.6449, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,826 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8868, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,826 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 18, 此环境累积奖励: 0.8868, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,982 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7038, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,982 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 19, 此环境累积奖励: 0.7038, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:06,985 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8858, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:06,985 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 20, 环境贡献: {0: 10, 1: 10}, 原因统计: {'技能周期结束': 20, '环境终止': 0}
2025-05-24 01:09:06,985 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 20, 此环境累积奖励: 0.8858, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,102 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6931, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,102 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 21, 此环境累积奖励: 0.6931, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,104 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0639, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,104 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 22, 此环境累积奖励: 1.0639, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,222 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6174, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,222 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=0, total_steps=0, 当前缓冲区大小: 23, 此环境累积奖励: 0.6174, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,222 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=1.0066, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,222 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=0, total_steps=0, 当前缓冲区大小: 24, 此环境累积奖励: 1.0066, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,326 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 24/32 (当前/所需)
2025-05-24 01:09:07,326 - [MainProcess] - HMASD - WARNING - 高层缓冲区样本不足，需要32个样本，但只有24个。跳过更新。
2025-05-24 01:09:07,327 - [MainProcess] - HMASD - INFO - 初始化critic_mlp: 实际状态维度 = 50, 团队技能维度 = 2
2025-05-24 01:09:07,432 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7149, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:07,432 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 25, 此环境累积奖励: 0.7149, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,442 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7864, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:07,442 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 26, 此环境累积奖励: 0.7864, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,559 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4761, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,559 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 27, 此环境累积奖励: 0.4761, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,563 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9422, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,563 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 28, 此环境累积奖励: 0.9422, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,676 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6063, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,676 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 29, 此环境累积奖励: 0.6063, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,681 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9305, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,681 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 30, 环境贡献: {0: 15, 1: 15}, 原因统计: {'技能周期结束': 30, '环境终止': 0}
2025-05-24 01:09:07,681 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 30, 此环境累积奖励: 0.9305, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,805 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6824, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,805 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 31, 此环境累积奖励: 0.6824, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,805 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7603, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,805 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 32, 此环境累积奖励: 0.7603, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,915 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5118, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,915 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 33, 此环境累积奖励: 0.5118, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:07,925 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7872, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:07,925 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 34, 此环境累积奖励: 0.7872, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,049 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7018, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,049 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 35, 此环境累积奖励: 0.7018, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,055 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6820, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,055 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 36, 此环境累积奖励: 0.6820, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,174 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7273, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,175 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 37, 此环境累积奖励: 0.7273, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,176 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4428, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,176 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 38, 此环境累积奖励: 0.4428, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,298 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5660, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,298 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 39, 此环境累积奖励: 0.5660, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,302 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5208, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,302 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 40, 环境贡献: {0: 20, 1: 20}, 原因统计: {'技能周期结束': 40, '环境终止': 0}
2025-05-24 01:09:08,302 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 40, 此环境累积奖励: 0.5208, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,430 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6185, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,430 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 41, 此环境累积奖励: 0.6185, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,435 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8488, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,435 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 42, 此环境累积奖励: 0.8488, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,554 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4495, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,554 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 43, 此环境累积奖励: 0.4495, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,555 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9102, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,555 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 44, 此环境累积奖励: 0.9102, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,677 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6762, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,677 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 45, 此环境累积奖励: 0.6762, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,677 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7042, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,677 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 46, 此环境累积奖励: 0.7042, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,792 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5962, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,792 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 47, 此环境累积奖励: 0.5962, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,798 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5752, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,798 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 48, 此环境累积奖励: 0.5752, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,916 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7745, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,916 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=1, total_steps=1, 当前缓冲区大小: 49, 此环境累积奖励: 0.7745, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,916 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8372, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:08,916 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 50, 环境贡献: {0: 25, 1: 25}, 原因统计: {'技能周期结束': 50, '环境终止': 0}
2025-05-24 01:09:08,916 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=1, total_steps=1, 当前缓冲区大小: 50, 此环境累积奖励: 0.8372, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 50/32 (当前/所需)
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从50个样本中采样32个
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.8184, 标准差=0.1829, 最小值=0.4761, 最大值=1.2915
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.8184, 标准差=0.1829, 最小值=0.4761, 最大值=1.2915
2025-05-24 01:09:08,981 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.1491, 标准差=0.2140, 最小值=-0.2181, 最大值=0.5852
2025-05-24 01:09:08,992 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:08,992 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.8114, 标准差=3.3719, 最小值=0.7336, 最大值=12.1961
2025-05-24 01:09:08,992 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.9605, 标准差=3.3936, 最小值=0.9422, 最大值=11.9909
2025-05-24 01:09:09,013 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6377
2025-05-24 01:09:09,013 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=156.401987, 策略损失=0.453658, 价值损失=155.949539, 熵损失=-0.001210
2025-05-24 01:09:09,044 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x0000019845198DC0>
2025-05-24 01:09:09,055 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:09,078 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=1309.379883, 均值=27.836539, 标准差=122.287644, 最大=851.729553, 最小=0.015255
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 851.729553
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 41.777111
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 21.251118
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 51.671455
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 21.382961
2025-05-24 01:09:09,085 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:09,095 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.010630, 标准差=0.046697, 最大=0.325242, 最小=0.000006
2025-05-24 01:09:09,186 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3447, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:09,187 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 51, 此环境累积奖励: 0.3447, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,194 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8336, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:09,194 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 52, 此环境累积奖励: 0.8336, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,313 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7112, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,314 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 53, 此环境累积奖励: 0.7112, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,319 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7345, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,319 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 54, 此环境累积奖励: 0.7345, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,438 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5578, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,438 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 55, 此环境累积奖励: 0.5578, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,448 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8070, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,448 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 56, 此环境累积奖励: 0.8070, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,575 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6178, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,575 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 57, 此环境累积奖励: 0.6178, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,578 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6854, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,578 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 58, 此环境累积奖励: 0.6854, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,705 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6379, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,705 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 59, 此环境累积奖励: 0.6379, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,705 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5673, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,705 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 60, 环境贡献: {0: 30, 1: 30}, 原因统计: {'技能周期结束': 60, '环境终止': 0}
2025-05-24 01:09:09,705 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 60, 此环境累积奖励: 0.5673, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,838 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6071, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,838 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 61, 此环境累积奖励: 0.6071, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,846 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7870, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,846 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 62, 此环境累积奖励: 0.7870, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,989 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3427, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,989 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 63, 此环境累积奖励: 0.3427, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:09,991 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8414, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:09,991 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 64, 此环境累积奖励: 0.8414, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,121 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4697, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,121 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 65, 此环境累积奖励: 0.4697, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,128 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7996, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,128 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 66, 此环境累积奖励: 0.7996, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,245 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5569, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,245 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 67, 此环境累积奖励: 0.5569, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,249 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8944, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,249 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 68, 此环境累积奖励: 0.8944, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,369 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5529, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,369 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 69, 此环境累积奖励: 0.5529, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,380 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7833, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,380 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 70, 环境贡献: {0: 35, 1: 35}, 原因统计: {'技能周期结束': 70, '环境终止': 0}
2025-05-24 01:09:10,380 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 70, 此环境累积奖励: 0.7833, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,513 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6286, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,513 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 71, 此环境累积奖励: 0.6286, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,513 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7274, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,513 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 72, 此环境累积奖励: 0.7274, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,648 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5506, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,648 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 73, 此环境累积奖励: 0.5506, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,648 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7523, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,648 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 74, 此环境累积奖励: 0.7523, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,792 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6395, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,792 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=2, total_steps=2, 当前缓冲区大小: 75, 此环境累积奖励: 0.6395, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,792 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7163, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:10,792 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=2, total_steps=2, 当前缓冲区大小: 76, 此环境累积奖励: 0.7163, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:10,837 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 76/32 (当前/所需)
2025-05-24 01:09:10,837 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从76个样本中采样32个
2025-05-24 01:09:10,838 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7481, 标准差=0.1759, 最小值=0.4428, 最大值=1.1218
2025-05-24 01:09:10,841 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:10,841 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7481, 标准差=0.1759, 最小值=0.4428, 最大值=1.1218
2025-05-24 01:09:10,841 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.2909, 标准差=0.2626, 最小值=-0.1758, 最大值=0.9608
2025-05-24 01:09:10,847 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:10,847 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.2796, 标准差=3.1314, 最小值=-0.0216, 最大值=10.5519
2025-05-24 01:09:10,847 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.5705, 标准差=3.0999, 最小值=0.4428, 最大值=10.6575
2025-05-24 01:09:10,872 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6620
2025-05-24 01:09:10,876 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=137.129274, 策略损失=0.189146, 价值损失=136.941391, 熵损失=-0.001264
2025-05-24 01:09:10,899 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x00000198451990F0>
2025-05-24 01:09:10,909 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:10,940 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=202.623444, 均值=8.556119, 标准差=17.419982, 最大=104.426231, 最小=0.013171
2025-05-24 01:09:10,950 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:10,950 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 27.577513
2025-05-24 01:09:10,950 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 35.891502
2025-05-24 01:09:10,950 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 19.802839
2025-05-24 01:09:10,950 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 47.801476
2025-05-24 01:09:10,951 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 19.645899
2025-05-24 01:09:10,951 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:10,965 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.021113, 标准差=0.042986, 最大=0.257685, 最小=0.000033
2025-05-24 01:09:11,086 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5876, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:11,086 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 77, 此环境累积奖励: 0.5876, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,086 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6623, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:11,086 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 78, 此环境累积奖励: 0.6623, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,238 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6485, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,238 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 79, 此环境累积奖励: 0.6485, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,238 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5970, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,238 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 80, 环境贡献: {0: 40, 1: 40}, 原因统计: {'技能周期结束': 80, '环境终止': 0}
2025-05-24 01:09:11,238 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 80, 此环境累积奖励: 0.5970, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,377 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6295, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,377 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 81, 此环境累积奖励: 0.6295, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,381 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6876, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,381 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 82, 此环境累积奖励: 0.6876, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,525 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7482, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,525 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 83, 此环境累积奖励: 0.7482, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,528 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6552, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,528 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 84, 此环境累积奖励: 0.6552, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,679 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4299, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,679 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 85, 此环境累积奖励: 0.4299, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,681 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5275, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,681 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 86, 此环境累积奖励: 0.5275, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,818 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6902, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,818 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 87, 此环境累积奖励: 0.6902, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,823 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7130, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,824 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 88, 此环境累积奖励: 0.7130, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,969 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6058, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,969 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 89, 此环境累积奖励: 0.6058, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:11,981 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6353, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:11,981 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 90, 环境贡献: {0: 45, 1: 45}, 原因统计: {'技能周期结束': 90, '环境终止': 0}
2025-05-24 01:09:11,981 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 90, 此环境累积奖励: 0.6353, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,119 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5945, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,119 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 91, 此环境累积奖励: 0.5945, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,119 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7435, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,119 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 92, 此环境累积奖励: 0.7435, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,272 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6823, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,272 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 93, 此环境累积奖励: 0.6823, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,272 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7769, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,272 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 94, 此环境累积奖励: 0.7769, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,409 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4298, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,409 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 95, 此环境累积奖励: 0.4298, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,415 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8357, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,415 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 96, 此环境累积奖励: 0.8357, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,559 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6386, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,559 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 97, 此环境累积奖励: 0.6386, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,566 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6820, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,566 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 98, 此环境累积奖励: 0.6820, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,649 - [MainProcess] - Test-Training - INFO - 进度: 500/10000 步 (5.0%), 用时: 7.2s
2025-05-24 01:09:12,698 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6181, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,698 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 99, 此环境累积奖励: 0.6181, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,708 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8936, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,708 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 100, 环境贡献: {0: 50, 1: 50}, 原因统计: {'技能周期结束': 100, '环境终止': 0}
2025-05-24 01:09:12,708 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 100, 此环境累积奖励: 0.8936, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,841 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6540, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,841 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=3, total_steps=3, 当前缓冲区大小: 101, 此环境累积奖励: 0.6540, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,850 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8851, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:12,850 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=3, total_steps=3, 当前缓冲区大小: 102, 此环境累积奖励: 0.8851, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:12,875 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 102/32 (当前/所需)
2025-05-24 01:09:12,875 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从102个样本中采样32个
2025-05-24 01:09:12,875 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7694, 标准差=0.1731, 最小值=0.4761, 最大值=1.2915
2025-05-24 01:09:12,877 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:12,877 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7694, 标准差=0.1731, 最小值=0.4761, 最大值=1.2915
2025-05-24 01:09:12,877 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.3801, 标准差=0.1940, 最小值=-0.0497, 最大值=0.8033
2025-05-24 01:09:12,881 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:12,881 - [MainProcess] - HMASD - INFO -   Advantages: 均值=7.2260, 标准差=3.0637, 最小值=0.3456, 最大值=11.1230
2025-05-24 01:09:12,881 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.6061, 标准差=3.1215, 最小值=0.5945, 最大值=11.4640
2025-05-24 01:09:12,906 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6722
2025-05-24 01:09:12,906 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=135.864655, 策略损失=0.243036, 价值损失=135.622925, 熵损失=-0.001306
2025-05-24 01:09:12,937 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x0000019845199270>
2025-05-24 01:09:12,952 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:12,981 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=223.738846, 均值=9.106260, 标准差=19.399323, 最大=102.698822, 最小=0.007901
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 71.266350
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 35.897522
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 19.406338
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 47.420483
2025-05-24 01:09:12,988 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 19.649363
2025-05-24 01:09:12,993 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:13,004 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.020350, 标准差=0.043353, 最大=0.229506, 最小=0.000018
2025-05-24 01:09:13,138 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5992, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:13,138 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 103, 此环境累积奖励: 0.5992, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,149 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7860, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:13,150 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 104, 此环境累积奖励: 0.7860, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,285 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5507, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,285 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 105, 此环境累积奖励: 0.5507, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,295 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9708, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,295 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 106, 此环境累积奖励: 0.9708, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,442 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6687, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,442 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 107, 此环境累积奖励: 0.6687, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,442 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8016, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,442 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 108, 此环境累积奖励: 0.8016, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,592 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5294, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,592 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 109, 此环境累积奖励: 0.5294, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,602 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8123, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,602 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 110, 环境贡献: {0: 55, 1: 55}, 原因统计: {'技能周期结束': 110, '环境终止': 0}
2025-05-24 01:09:13,602 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 110, 此环境累积奖励: 0.8123, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,731 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5870, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,731 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 111, 此环境累积奖励: 0.5870, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,742 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7862, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,742 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 112, 此环境累积奖励: 0.7862, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,879 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3288, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,879 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 113, 此环境累积奖励: 0.3288, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:13,882 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9444, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:13,882 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 114, 此环境累积奖励: 0.9444, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,022 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5384, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,022 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 115, 此环境累积奖励: 0.5384, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,025 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7601, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,025 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 116, 此环境累积奖励: 0.7601, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,159 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5756, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,159 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 117, 此环境累积奖励: 0.5756, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,169 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5042, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,169 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 118, 此环境累积奖励: 0.5042, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,303 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6637, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,303 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 119, 此环境累积奖励: 0.6637, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,303 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6400, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,303 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 120, 环境贡献: {0: 60, 1: 60}, 原因统计: {'技能周期结束': 120, '环境终止': 0}
2025-05-24 01:09:14,303 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 120, 此环境累积奖励: 0.6400, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,447 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4765, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,447 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 121, 此环境累积奖励: 0.4765, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,452 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7684, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,452 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 122, 此环境累积奖励: 0.7684, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,582 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6298, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,582 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 123, 此环境累积奖励: 0.6298, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,589 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7938, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,589 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 124, 此环境累积奖励: 0.7938, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,740 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6285, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,740 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 125, 此环境累积奖励: 0.6285, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,740 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9508, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,740 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 126, 此环境累积奖励: 0.9508, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,885 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7002, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,885 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=4, total_steps=4, 当前缓冲区大小: 127, 此环境累积奖励: 0.7002, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,896 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8687, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:14,896 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=4, total_steps=4, 当前缓冲区大小: 128, 此环境累积奖励: 0.8687, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:14,900 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 128/32 (当前/所需)
2025-05-24 01:09:14,900 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从128个样本中采样32个
2025-05-24 01:09:14,901 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7162, 标准差=0.1517, 最小值=0.4298, 最大值=1.0066
2025-05-24 01:09:14,903 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:14,903 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7162, 标准差=0.1517, 最小值=0.4298, 最大值=1.0066
2025-05-24 01:09:14,903 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.4479, 标准差=0.2029, 最小值=0.1380, 最大值=1.0454
2025-05-24 01:09:14,909 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:14,909 - [MainProcess] - HMASD - INFO -   Advantages: 均值=6.6206, 标准差=3.1034, 最小值=0.2669, 最大值=10.3319
2025-05-24 01:09:14,909 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.0684, 标准差=3.0686, 最小值=0.5962, 最大值=10.7919
2025-05-24 01:09:14,932 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6819
2025-05-24 01:09:14,936 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=117.106492, 策略损失=0.133633, 价值损失=116.974197, 熵损失=-0.001338
2025-05-24 01:09:14,963 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x0000019845199270>
2025-05-24 01:09:14,976 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:15,007 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=182.732422, 均值=7.636467, 标准差=15.748815, 最大=94.613922, 最小=0.003709
2025-05-24 01:09:15,016 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:15,017 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 23.845028
2025-05-24 01:09:15,017 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 32.150707
2025-05-24 01:09:15,017 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 17.681286
2025-05-24 01:09:15,017 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 43.145462
2025-05-24 01:09:15,017 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 17.515345
2025-05-24 01:09:15,018 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:15,031 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.020895, 标准差=0.043093, 最大=0.258886, 最小=0.000010
2025-05-24 01:09:15,205 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4782, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:15,205 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 129, 此环境累积奖励: 0.4782, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,205 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8319, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:15,205 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 130, 环境贡献: {0: 65, 1: 65}, 原因统计: {'技能周期结束': 130, '环境终止': 0}
2025-05-24 01:09:15,205 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 130, 此环境累积奖励: 0.8319, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,345 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5616, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,345 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 131, 此环境累积奖励: 0.5616, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,345 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8012, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,345 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 132, 此环境累积奖励: 0.8012, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,499 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6101, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,499 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 133, 此环境累积奖励: 0.6101, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,505 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8036, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,506 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 134, 此环境累积奖励: 0.8036, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,644 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5699, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,644 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 135, 此环境累积奖励: 0.5699, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,648 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8055, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,648 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 136, 此环境累积奖励: 0.8055, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,785 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7132, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,785 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 137, 此环境累积奖励: 0.7132, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,795 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9551, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,795 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 138, 此环境累积奖励: 0.9551, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,932 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5939, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,932 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 139, 此环境累积奖励: 0.5939, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:15,942 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8665, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:15,942 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 140, 环境贡献: {0: 70, 1: 70}, 原因统计: {'技能周期结束': 140, '环境终止': 0}
2025-05-24 01:09:15,942 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 140, 此环境累积奖励: 0.8665, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,083 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6042, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,083 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 141, 此环境累积奖励: 0.6042, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,084 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6717, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,084 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 142, 此环境累积奖励: 0.6717, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,233 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4015, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,233 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 143, 此环境累积奖励: 0.4015, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,233 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8063, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,233 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 144, 此环境累积奖励: 0.8063, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,379 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.1915, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,384 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 145, 此环境累积奖励: 0.1915, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,384 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5952, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,384 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 146, 此环境累积奖励: 0.5952, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,521 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5507, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,521 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 147, 此环境累积奖励: 0.5507, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,529 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6882, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,529 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 148, 此环境累积奖励: 0.6882, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,678 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6644, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,678 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 149, 此环境累积奖励: 0.6644, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,683 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7068, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,683 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 150, 环境贡献: {0: 75, 1: 75}, 原因统计: {'技能周期结束': 150, '环境终止': 0}
2025-05-24 01:09:16,683 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 150, 此环境累积奖励: 0.7068, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,826 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4993, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,826 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=5, total_steps=5, 当前缓冲区大小: 151, 此环境累积奖励: 0.4993, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,833 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5892, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:16,833 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=5, total_steps=5, 当前缓冲区大小: 152, 此环境累积奖励: 0.5892, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:16,923 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 152/32 (当前/所需)
2025-05-24 01:09:16,924 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从152个样本中采样32个
2025-05-24 01:09:16,924 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7511, 标准差=0.1594, 最小值=0.4298, 最大值=1.0639
2025-05-24 01:09:16,927 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:16,927 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7511, 标准差=0.1594, 最小值=0.4298, 最大值=1.0639
2025-05-24 01:09:16,927 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.5989, 标准差=0.2112, 最小值=0.0486, 最大值=0.9007
2025-05-24 01:09:16,931 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:16,931 - [MainProcess] - HMASD - INFO -   Advantages: 均值=6.9775, 标准差=2.9306, 最小值=0.4300, 最大值=11.0251
2025-05-24 01:09:16,931 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.5763, 标准差=2.9362, 最小值=1.0616, 最大值=11.2158
2025-05-24 01:09:16,954 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6869
2025-05-24 01:09:16,960 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=126.869929, 策略损失=0.061959, 价值损失=126.809319, 熵损失=-0.001349
2025-05-24 01:09:16,984 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x0000019845199060>
2025-05-24 01:09:16,999 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:17,038 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=819.197083, 均值=19.167334, 标准差=76.087761, 最大=531.125854, 最小=0.002293
2025-05-24 01:09:17,042 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 531.125854
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 35.567905
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 18.959431
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 46.491238
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 18.809326
2025-05-24 01:09:17,051 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:17,064 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.011699, 标准差=0.046440, 最大=0.324175, 最小=0.000001
2025-05-24 01:09:17,153 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5288, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:17,153 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 153, 此环境累积奖励: 0.5288, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,155 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8147, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:17,155 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 154, 此环境累积奖励: 0.8147, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,310 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6387, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,310 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 155, 此环境累积奖励: 0.6387, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,317 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8124, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,317 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 156, 此环境累积奖励: 0.8124, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,452 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7013, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,452 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 157, 此环境累积奖励: 0.7013, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,452 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8559, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,452 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 158, 此环境累积奖励: 0.8559, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,588 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5817, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,588 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 159, 此环境累积奖励: 0.5817, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,588 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8180, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,588 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 160, 环境贡献: {0: 80, 1: 80}, 原因统计: {'技能周期结束': 160, '环境终止': 0}
2025-05-24 01:09:17,603 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 160, 此环境累积奖励: 0.8180, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,729 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5214, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,729 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 161, 此环境累积奖励: 0.5214, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,737 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6399, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,737 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 162, 此环境累积奖励: 0.6399, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,869 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6114, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,869 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 163, 此环境累积奖励: 0.6114, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:17,869 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5726, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:17,869 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 164, 此环境累积奖励: 0.5726, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,009 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7174, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,009 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 165, 此环境累积奖励: 0.7174, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,009 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.5003, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,009 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 166, 此环境累积奖励: 0.5003, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,141 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7592, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,141 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 167, 此环境累积奖励: 0.7592, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,141 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7307, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,141 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 168, 此环境累积奖励: 0.7307, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,276 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4294, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,276 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 169, 此环境累积奖励: 0.4294, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,276 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7798, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,276 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 170, 环境贡献: {0: 85, 1: 85}, 原因统计: {'技能周期结束': 170, '环境终止': 0}
2025-05-24 01:09:18,276 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 170, 此环境累积奖励: 0.7798, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,411 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4341, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,418 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 171, 此环境累积奖励: 0.4341, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,418 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7123, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,418 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 172, 此环境累积奖励: 0.7123, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,558 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6284, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,558 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 173, 此环境累积奖励: 0.6284, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,558 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4649, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,558 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 174, 此环境累积奖励: 0.4649, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,717 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5176, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,717 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 175, 此环境累积奖励: 0.5176, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,721 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6577, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,721 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 176, 此环境累积奖励: 0.6577, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,856 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5006, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,856 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=6, total_steps=6, 当前缓冲区大小: 177, 此环境累积奖励: 0.5006, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,859 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7121, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:18,859 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=6, total_steps=6, 当前缓冲区大小: 178, 此环境累积奖励: 0.7121, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:18,933 - [MainProcess] - HMASD - INFO - 高层缓冲区状态: 178/32 (当前/所需)
2025-05-24 01:09:18,933 - [MainProcess] - HMASD - INFO - 高层缓冲区满足更新条件，从178个样本中采样32个
2025-05-24 01:09:18,933 - [MainProcess] - HMASD - INFO - 高层奖励统计: 均值=0.7111, 标准差=0.1388, 最小值=0.4428, 最大值=1.0066
2025-05-24 01:09:18,936 - [MainProcess] - HMASD - INFO - GAE输入统计:
2025-05-24 01:09:18,936 - [MainProcess] - HMASD - INFO -   rewards: 均值=0.7111, 标准差=0.1388, 最小值=0.4428, 最大值=1.0066
2025-05-24 01:09:18,936 - [MainProcess] - HMASD - INFO -   state_values: 均值=0.6478, 标准差=0.2034, 最小值=0.1227, 最大值=1.0710
2025-05-24 01:09:18,939 - [MainProcess] - HMASD - INFO - GAE输出统计:
2025-05-24 01:09:18,939 - [MainProcess] - HMASD - INFO -   Advantages: 均值=6.4299, 标准差=2.9767, 最小值=-0.1531, 最大值=10.6010
2025-05-24 01:09:18,939 - [MainProcess] - HMASD - INFO -   Returns: 均值=7.0777, 标准差=3.0231, 最小值=0.5529, 最大值=11.0160
2025-05-24 01:09:18,961 - [MainProcess] - HMASD - INFO - 团队技能熵: 0.6871
2025-05-24 01:09:18,971 - [MainProcess] - HMASD - INFO - 损失统计: 总损失=112.784537, 策略损失=0.186146, 价值损失=112.599739, 熵损失=-0.001349
2025-05-24 01:09:18,996 - [MainProcess] - HMASD - INFO - 损失连接状态: requires_grad=True, grad_fn=<AddBackward0 object at 0x0000019845199420>
2025-05-24 01:09:19,013 - [MainProcess] - HMASD - INFO - Coordinator中需要梯度的参数数量: 109
2025-05-24 01:09:19,043 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪前): 总范数=295.044495, 均值=9.878296, 标准差=26.477442, 最大=181.827255, 最小=0.007542
2025-05-24 01:09:19,055 - [MainProcess] - HMASD - WARNING - 检测到19个参数具有较大梯度 (>10.0):
2025-05-24 01:09:19,055 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.in_proj_weight: 梯度范数 = 161.372421
2025-05-24 01:09:19,055 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.self_attn.out_proj.weight: 梯度范数 = 32.088223
2025-05-24 01:09:19,055 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear1.weight: 梯度范数 = 17.296066
2025-05-24 01:09:19,055 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.0.linear2.weight: 梯度范数 = 42.287018
2025-05-24 01:09:19,062 - [MainProcess] - HMASD - WARNING -   参数 state_encoder.transformer_encoder.layers.1.self_attn.in_proj_weight: 梯度范数 = 17.145836
2025-05-24 01:09:19,062 - [MainProcess] - HMASD - WARNING -   ... 还有14个参数有较大梯度
2025-05-24 01:09:19,074 - [MainProcess] - HMASD - INFO - 梯度统计 (裁剪后): 总范数=0.500000, 均值=0.016740, 标准差=0.044870, 最大=0.308135, 最小=0.000013
2025-05-24 01:09:19,179 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.6999, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:19,179 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 179, 此环境累积奖励: 0.6999, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,182 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.6790, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=1步, k=5
2025-05-24 01:09:19,182 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 180, 环境贡献: {0: 90, 1: 90}, 原因统计: {'技能周期结束': 180, '环境终止': 0}
2025-05-24 01:09:19,182 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 180, 此环境累积奖励: 0.6790, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,321 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7403, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,321 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 181, 此环境累积奖励: 0.7403, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,321 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.7904, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,321 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 182, 此环境累积奖励: 0.7904, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,470 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.7698, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,470 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 183, 此环境累积奖励: 0.7698, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,470 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8248, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,470 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 184, 此环境累积奖励: 0.8248, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,619 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5090, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,619 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 185, 此环境累积奖励: 0.5090, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,619 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9307, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,619 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 186, 此环境累积奖励: 0.9307, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,766 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.3375, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,766 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 187, 此环境累积奖励: 0.3375, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,771 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9876, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,771 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 188, 此环境累积奖励: 0.9876, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,913 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4697, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,913 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 189, 此环境累积奖励: 0.4697, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:19,917 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8832, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:19,917 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 190, 环境贡献: {0: 95, 1: 95}, 原因统计: {'技能周期结束': 190, '环境终止': 0}
2025-05-24 01:09:19,917 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 190, 此环境累积奖励: 0.8832, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,056 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5812, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,056 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 191, 此环境累积奖励: 0.5812, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,061 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8873, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,061 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 192, 此环境累积奖励: 0.8873, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,207 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5600, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,207 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 193, 此环境累积奖励: 0.5600, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,212 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.8971, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,212 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 194, 此环境累积奖励: 0.8971, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,341 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.4463, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,341 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 195, 此环境累积奖励: 0.4463, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,345 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9219, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,345 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 196, 此环境累积奖励: 0.9219, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,474 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5977, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,476 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 197, 此环境累积奖励: 0.5977, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,480 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.9161, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,480 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 198, 此环境累积奖励: 0.9161, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,566 - [MainProcess] - Test-Training - INFO - 进度: 1000/10000 步 (10.0%), 用时: 15.1s
2025-05-24 01:09:20,614 - [MainProcess] - HMASD - INFO - 环境ID=0技能周期结束检查: 累积奖励=0.5759, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,614 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=0, step=7, total_steps=7, 当前缓冲区大小: 199, 此环境累积奖励: 0.5759, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,623 - [MainProcess] - HMASD - INFO - 环境ID=1技能周期结束检查: 累积奖励=0.4632, 之前的阈值=0.0000, 是否存储=True, 离上次贡献=0步, k=5
2025-05-24 01:09:20,623 - [MainProcess] - HMASD - INFO - 高层经验统计 - 总样本: 200, 环境贡献: {0: 100, 1: 100}, 原因统计: {'技能周期结束': 200, '环境终止': 0}
2025-05-24 01:09:20,623 - [MainProcess] - HMASD - INFO - 向高层缓冲区添加经验：环境ID=1, step=7, total_steps=7, 当前缓冲区大小: 200, 此环境累积奖励: 0.4632, 成功添加：True, 原因：技能周期结束
2025-05-24 01:09:20,623 - [MainProcess] - Test-Training - INFO - 即将进行评估 #1, 当前步数: 1000, 距离上次评估: 1000 步
2025-05-24 01:09:20,623 - [MainProcess] - Test-Training - INFO - 开始评估: 目标完成 2 个episodes，使用 2 个并行环境，是否渲染: False
2025-05-24 01:09:21,837 - [MainProcess] - Test-Training - INFO - 评估性能统计 [100步]: agent.step平均耗时: 0.010547秒/步, vec_env.step平均耗时: 0.003098秒/步
2025-05-24 01:09:23,079 - [MainProcess] - Test-Training - INFO - 评估性能统计 [200步]: agent.step平均耗时: 0.009520秒/步, vec_env.step平均耗时: 0.004441秒/步
2025-05-24 01:09:24,338 - [MainProcess] - Test-Training - INFO - 评估性能统计 [300步]: agent.step平均耗时: 0.010414秒/步, vec_env.step平均耗时: 0.005070秒/步
2025-05-24 01:09:25,595 - [MainProcess] - Test-Training - INFO - 评估性能统计 [400步]: agent.step平均耗时: 0.010802秒/步, vec_env.step平均耗时: 0.003886秒/步
2025-05-24 01:09:26,892 - [MainProcess] - Test-Training - INFO - 评估性能统计 [500步]: agent.step平均耗时: 0.011239秒/步, vec_env.step平均耗时: 0.003432秒/步
2025-05-24 01:09:28,178 - [MainProcess] - Test-Training - INFO - 评估性能统计 [600步]: agent.step平均耗时: 0.010794秒/步, vec_env.step平均耗时: 0.003789秒/步
2025-05-24 01:09:29,264 - [MainProcess] - Test-Training - INFO - 评估性能统计 [700步]: agent.step平均耗时: 0.008690秒/步, vec_env.step平均耗时: 0.004174秒/步
2025-05-24 01:09:30,354 - [MainProcess] - Test-Training - INFO - 评估性能统计 [800步]: agent.step平均耗时: 0.009341秒/步, vec_env.step平均耗时: 0.003654秒/步
2025-05-24 01:09:31,438 - [MainProcess] - Test-Training - INFO - 评估性能统计 [900步]: agent.step平均耗时: 0.009103秒/步, vec_env.step平均耗时: 0.003276秒/步
2025-05-24 01:09:32,545 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1000步]: agent.step平均耗时: 0.008913秒/步, vec_env.step平均耗时: 0.003798秒/步
2025-05-24 01:09:33,677 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1100步]: agent.step平均耗时: 0.009046秒/步, vec_env.step平均耗时: 0.004338秒/步
2025-05-24 01:09:34,832 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1200步]: agent.step平均耗时: 0.009908秒/步, vec_env.step平均耗时: 0.003909秒/步
2025-05-24 01:09:36,007 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1300步]: agent.step平均耗时: 0.010075秒/步, vec_env.step平均耗时: 0.003320秒/步
2025-05-24 01:09:37,174 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1400步]: agent.step平均耗时: 0.009764秒/步, vec_env.step平均耗时: 0.003561秒/步
2025-05-24 01:09:38,358 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1500步]: agent.step平均耗时: 0.009911秒/步, vec_env.step平均耗时: 0.003811秒/步
2025-05-24 01:09:39,558 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1600步]: agent.step平均耗时: 0.009434秒/步, vec_env.step平均耗时: 0.004492秒/步
2025-05-24 01:09:40,804 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1700步]: agent.step平均耗时: 0.010399秒/步, vec_env.step平均耗时: 0.004618秒/步
2025-05-24 01:09:42,128 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1800步]: agent.step平均耗时: 0.010602秒/步, vec_env.step平均耗时: 0.004695秒/步
2025-05-24 01:09:43,421 - [MainProcess] - Test-Training - INFO - 评估性能统计 [1900步]: agent.step平均耗时: 0.011201秒/步, vec_env.step平均耗时: 0.004366秒/步
2025-05-24 01:09:44,729 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2000步]: agent.step平均耗时: 0.010979秒/步, vec_env.step平均耗时: 0.003827秒/步
2025-05-24 01:09:46,020 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2100步]: agent.step平均耗时: 0.009924秒/步, vec_env.step平均耗时: 0.005068秒/步
2025-05-24 01:09:47,354 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2200步]: agent.step平均耗时: 0.010877秒/步, vec_env.step平均耗时: 0.005303秒/步
2025-05-24 01:09:48,697 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2300步]: agent.step平均耗时: 0.011206秒/步, vec_env.step平均耗时: 0.004552秒/步
2025-05-24 01:09:49,971 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2400步]: agent.step平均耗时: 0.010260秒/步, vec_env.step平均耗时: 0.004700秒/步
2025-05-24 01:09:51,195 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2500步]: agent.step平均耗时: 0.007990秒/步, vec_env.step平均耗时: 0.006728秒/步
2025-05-24 01:09:52,477 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2600步]: agent.step平均耗时: 0.010304秒/步, vec_env.step平均耗时: 0.006761秒/步
2025-05-24 01:09:53,738 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2700步]: agent.step平均耗时: 0.010199秒/步, vec_env.step平均耗时: 0.004925秒/步
2025-05-24 01:09:54,971 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2800步]: agent.step平均耗时: 0.010031秒/步, vec_env.step平均耗时: 0.004716秒/步
2025-05-24 01:09:56,290 - [MainProcess] - Test-Training - INFO - 评估性能统计 [2900步]: agent.step平均耗时: 0.010446秒/步, vec_env.step平均耗时: 0.005042秒/步
2025-05-24 01:09:57,588 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3000步]: agent.step平均耗时: 0.010492秒/步, vec_env.step平均耗时: 0.005199秒/步
2025-05-24 01:09:58,854 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3100步]: agent.step平均耗时: 0.010159秒/步, vec_env.step平均耗时: 0.004967秒/步
2025-05-24 01:10:00,212 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3200步]: agent.step平均耗时: 0.010113秒/步, vec_env.step平均耗时: 0.005964秒/步
2025-05-24 01:10:01,580 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3300步]: agent.step平均耗时: 0.011253秒/步, vec_env.step平均耗时: 0.005886秒/步
2025-05-24 01:10:02,838 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3400步]: agent.step平均耗时: 0.009720秒/步, vec_env.step平均耗时: 0.005127秒/步
2025-05-24 01:10:04,142 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3500步]: agent.step平均耗时: 0.010441秒/步, vec_env.step平均耗时: 0.005299秒/步
2025-05-24 01:10:05,421 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3600步]: agent.step平均耗时: 0.010639秒/步, vec_env.step平均耗时: 0.004750秒/步
2025-05-24 01:10:06,692 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3700步]: agent.step平均耗时: 0.009295秒/步, vec_env.step平均耗时: 0.005557秒/步
2025-05-24 01:10:07,954 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3800步]: agent.step平均耗时: 0.008987秒/步, vec_env.step平均耗时: 0.007032秒/步
2025-05-24 01:10:09,214 - [MainProcess] - Test-Training - INFO - 评估性能统计 [3900步]: agent.step平均耗时: 0.010244秒/步, vec_env.step平均耗时: 0.005972秒/步
2025-05-24 01:10:10,472 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4000步]: agent.step平均耗时: 0.011403秒/步, vec_env.step平均耗时: 0.003517秒/步
2025-05-24 01:10:11,813 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4100步]: agent.step平均耗时: 0.011644秒/步, vec_env.step平均耗时: 0.002938秒/步
2025-05-24 01:10:13,006 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4200步]: agent.step平均耗时: 0.007570秒/步, vec_env.step平均耗时: 0.006115秒/步
2025-05-24 01:10:14,221 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4300步]: agent.step平均耗时: 0.010682秒/步, vec_env.step平均耗时: 0.005779秒/步
2025-05-24 01:10:15,639 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4400步]: agent.step平均耗时: 0.012242秒/步, vec_env.step平均耗时: 0.003349秒/步
2025-05-24 01:10:16,938 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4500步]: agent.step平均耗时: 0.010885秒/步, vec_env.step平均耗时: 0.004001秒/步
2025-05-24 01:10:18,137 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4600步]: agent.step平均耗时: 0.007081秒/步, vec_env.step平均耗时: 0.006965秒/步
2025-05-24 01:10:19,406 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4700步]: agent.step平均耗时: 0.009080秒/步, vec_env.step平均耗时: 0.008482秒/步
2025-05-24 01:10:20,638 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4800步]: agent.step平均耗时: 0.008321秒/步, vec_env.step平均耗时: 0.007605秒/步
2025-05-24 01:10:21,823 - [MainProcess] - Test-Training - INFO - 评估性能统计 [4900步]: agent.step平均耗时: 0.007089秒/步, vec_env.step平均耗时: 0.008747秒/步
2025-05-24 01:10:23,039 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5000步]: agent.step平均耗时: 0.009324秒/步, vec_env.step平均耗时: 0.007431秒/步
2025-05-24 01:10:24,272 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5100步]: agent.step平均耗时: 0.009719秒/步, vec_env.step平均耗时: 0.005293秒/步
2025-05-24 01:10:25,490 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5200步]: agent.step平均耗时: 0.009784秒/步, vec_env.step平均耗时: 0.005003秒/步
2025-05-24 01:10:26,829 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5300步]: agent.step平均耗时: 0.011606秒/步, vec_env.step平均耗时: 0.004060秒/步
2025-05-24 01:10:28,173 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5400步]: agent.step平均耗时: 0.010844秒/步, vec_env.step平均耗时: 0.004263秒/步
2025-05-24 01:10:29,464 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5500步]: agent.step平均耗时: 0.010690秒/步, vec_env.step平均耗时: 0.004710秒/步
2025-05-24 01:10:30,808 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5600步]: agent.step平均耗时: 0.011199秒/步, vec_env.step平均耗时: 0.004353秒/步
2025-05-24 01:10:32,155 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5700步]: agent.step平均耗时: 0.010603秒/步, vec_env.step平均耗时: 0.005106秒/步
2025-05-24 01:10:33,472 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5800步]: agent.step平均耗时: 0.010679秒/步, vec_env.step平均耗时: 0.005353秒/步
2025-05-24 01:10:34,688 - [MainProcess] - Test-Training - INFO - 评估性能统计 [5900步]: agent.step平均耗时: 0.009400秒/步, vec_env.step平均耗时: 0.005109秒/步
2025-05-24 01:10:35,909 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6000步]: agent.step平均耗时: 0.009408秒/步, vec_env.step平均耗时: 0.005409秒/步
2025-05-24 01:10:37,147 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6100步]: agent.step平均耗时: 0.009307秒/步, vec_env.step平均耗时: 0.005856秒/步
2025-05-24 01:10:38,349 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6200步]: agent.step平均耗时: 0.008855秒/步, vec_env.step平均耗时: 0.006222秒/步
2025-05-24 01:10:39,555 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6300步]: agent.step平均耗时: 0.009170秒/步, vec_env.step平均耗时: 0.006011秒/步
2025-05-24 01:10:40,764 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6400步]: agent.step平均耗时: 0.009886秒/步, vec_env.step平均耗时: 0.004739秒/步
2025-05-24 01:10:42,061 - [MainProcess] - Test-Training - INFO - 评估性能统计 [6500步]: agent.step平均耗时: 0.009391秒/步, vec_env.step平均耗时: 0.005408秒/步
